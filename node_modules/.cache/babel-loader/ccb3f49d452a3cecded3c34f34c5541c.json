{"ast":null,"code":"var _jsxFileName = \"/home/parallels/PycharmProjects/frontend/src/components/header.jsx\";\nimport React, { Component } from 'react';\nimport { BACKEND } from '../config';\nimport cookie from 'react-cookies';\nimport { Link } from 'react-router-dom';\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logout = function () {\n      cookie.remove('user_id', {\n        path: '/'\n      });\n      this.setState({\n        username: '',\n        login: 'notShow',\n        logout: 'show'\n      });\n    };\n\n    this.state = {\n      id: cookie.load('user_id'),\n      username: '',\n      login: '',\n      logout: ''\n    };\n    this.logout = this.logout.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.state.id) {\n      let url = BACKEND + 'user/' + this.state.id;\n      fetch(url).then(res => {\n        return res.json();\n      }).then(data => {\n        this.setState({\n          username: data.username,\n          logout: 'notShow'\n        });\n      });\n    } else {\n      this.setState({\n        username: '',\n        login: 'show',\n        logout: 'notShow'\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/teamList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \" TEAM \")), React.createElement(\"div\", {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: this.state.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \" \", this.state.username, \" \"), React.createElement(\"div\", {\n      className: this.state.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \" logout \"), React.createElement(\"div\", {\n      className: this.state.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \" login \")));\n  }\n\n}\n\nexport default Header;","map":{"version":3,"sources":["/home/parallels/PycharmProjects/frontend/src/components/header.jsx"],"names":["React","Component","BACKEND","cookie","Link","Header","constructor","props","logout","remove","path","setState","username","login","state","id","load","bind","componentDidMount","url","fetch","then","res","json","data","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,OAAT,QAAwB,WAAxB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAGA,MAAMC,MAAN,SAAqBJ,SAArB,CAA+B;AAE3BK,EAAAA,WAAW,CAAEC,KAAF,EAAU;AACjB,UAAOA,KAAP;;AADiB,SAwBrBC,MAxBqB,GAwBZ,YAAW;AAChBL,MAAAA,MAAM,CAACM,MAAP,CAAe,SAAf,EAA0B;AAAEC,QAAAA,IAAI,EAAG;AAAT,OAA1B;AACA,WAAKC,QAAL,CAAe;AAAEC,QAAAA,QAAQ,EAAG,EAAb;AAAiBC,QAAAA,KAAK,EAAG,SAAzB;AAAoCL,QAAAA,MAAM,EAAG;AAA7C,OAAf;AACH,KA3BoB;;AAEjB,SAAKM,KAAL,GAAa;AACTC,MAAAA,EAAE,EAAGZ,MAAM,CAACa,IAAP,CAAY,SAAZ,CADI;AAETJ,MAAAA,QAAQ,EAAG,EAFF;AAGTC,MAAAA,KAAK,EAAG,EAHC;AAITL,MAAAA,MAAM,EAAG;AAJA,KAAb;AAMA,SAAKA,MAAL,GAAc,KAAKA,MAAL,CAAYS,IAAZ,CAAkB,IAAlB,CAAd;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,QAAK,KAAKJ,KAAL,CAAWC,EAAhB,EAAqB;AACjB,UAAII,GAAG,GAAGjB,OAAO,GAAG,OAAV,GAAoB,KAAKY,KAAL,CAAWC,EAAzC;AACAK,MAAAA,KAAK,CAAED,GAAF,CAAL,CAAaE,IAAb,CAAmBC,GAAG,IAAI;AACtB,eAAOA,GAAG,CAACC,IAAJ,EAAP;AACH,OAFD,EAEGF,IAFH,CAESG,IAAI,IAAI;AACb,aAAKb,QAAL,CAAe;AAAEC,UAAAA,QAAQ,EAAGY,IAAI,CAACZ,QAAlB;AAA4BJ,UAAAA,MAAM,EAAG;AAArC,SAAf;AACH,OAJD;AAKH,KAPD,MAOO;AACH,WAAKG,QAAL,CAAe;AAAEC,QAAAA,QAAQ,EAAG,EAAb;AAAiBC,QAAAA,KAAK,EAAG,MAAzB;AAAiCL,QAAAA,MAAM,EAAG;AAA1C,OAAf;AACH;AACJ;;AAODiB,EAAAA,MAAM,GAAG;AACL,WACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CADJ,EAII;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAG,KAAKX,KAAL,CAAWD,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAuC,KAAKC,KAAL,CAAWF,QAAlD,MADJ,EAEI;AAAK,MAAA,SAAS,EAAG,KAAKE,KAAL,CAAWD,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,EAGI;AAAK,MAAA,SAAS,EAAG,KAAKC,KAAL,CAAWN,MAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHJ,CAJJ,CADJ;AAaH;;AA7C0B;;AAgD/B,eAAeH,MAAf","sourcesContent":["import React, { Component } from 'react'\n\nimport { BACKEND } from '../config'\nimport cookie from 'react-cookies'\nimport { Link } from 'react-router-dom'\n\n\nclass Header extends Component {\n\n    constructor( props ) {\n        super( props );\n        this.state = {\n            id : cookie.load('user_id'),\n            username : '',\n            login : '',\n            logout : ''\n        };\n        this.logout = this.logout.bind( this );\n    }\n\n    componentDidMount() {\n        if ( this.state.id ) {\n            let url = BACKEND + 'user/' + this.state.id;\n            fetch( url ).then( res => {\n                return res.json();\n            }).then( data => {\n                this.setState( { username : data.username, logout : 'notShow' } );\n            });\n        } else {\n            this.setState( { username : '', login : 'show', logout : 'notShow' } );\n        }\n    }\n\n    logout = function() {\n        cookie.remove( 'user_id', { path : '/' } );\n        this.setState( { username : '', login : 'notShow', logout : 'show' } );\n    };\n\n    render() {\n        return (\n            <div className='header'>\n                <div className='left'>\n                    <Link to='/teamList'> TEAM </Link>\n                </div>\n                <div className='right'>\n                    <div className={ this.state.login }> { this.state.username } </div>\n                    <div className={ this.state.login }> logout </div>\n                    <div className={ this.state.logout }> login </div>\n\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Header;"]},"metadata":{},"sourceType":"module"}